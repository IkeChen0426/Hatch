# 数据结构—栈(Stack)

# 栈

三五七言

> 不要让数据结构成为天花板

[相关代码地址](https://github.com/ThreeFiveSevenWords/Hatch/tree/main)

## 时间复杂度

把一个算法程序运行一遍，我们就自然而然知道它所消耗的时间了
通常使用最差的时间复杂度来衡量一个算法的好坏，
常数时间 O(1) 代表这个操作和数据量没关系，是一个固定时间的操作

```javascript
for i in range(n):   # 1个颗粒时间
	j = i            # n个颗粒时间
	j += 1           # n个颗粒时间
```

假设每行代码的执行时间都是一样的，那么总时间就是：1 颗粒时间+n 颗粒时间+n 颗粒时间=（1+2n）个颗粒时间。即，T(n)=(1+2n)\*颗粒时间。可以看出，这个算法的耗时是随着 n 的变化而变化，而当 n 无限大的时候，常量 1 和倍数 2 也意义不大。因此，我们可以简化的将这个算法的时间复杂度表示为：T(n)=O(n)

常见的时间复杂度量级有：
常数阶 O(1)
对数阶 O(logN)
线性阶 O(n)
线性对数阶 O(nlogN)
平方阶 O(n²)
立方阶 O(n³)
K 次方阶 O(n^k)
上面从上至下依次的时间复杂度越来越大，执行的效率越来越低。

## 空间复杂度

空间复杂度是对一个算法在运行过程中临时占用存储空间大小的一个量度，同样反映的是一个趋势
空间复杂度比较常用的有：O(1)、O(n)、O(n²)

## 栈

### 概念

栈是一个线性结构
栈的特点是只能在某一端添加或删除数据，遵循先进后出的原则

### 基本练习

1. 根据栈的特性实现一个`Stack`类，并在后续题目中需要用栈时使用它。

```javascript
/**
 * 栈的抽象
 * 1、根据栈的特性实现一个Stack类
 */
class Stack {
  constructor() {
    this.stack = []
  }
  // 入栈
  push(item) {
    return this.stack.push(item)
  }
  // 出栈
  pop() {
    return this.stack.pop()
  }
  // 取栈顶元素
  peek() {
    return this.stack[this.getCount() - 1]
  }
  // 获取栈容量
  getCount() {
    return this.stack.length
  }
  // 判断是空栈
  isEmpty() {
    return this.getCount() === 0
  }
}

module.exports = Stack
```

2. 编写一个函数`unitTrans(num, unit)`,`num`为一个 10 进制数字，`unit`要转换的进制数，求转换结果。
3. 编写一个函数`recursion(num)`,`num`为一个 10 进制数字，要求输出`num!`的结果。
4. 编写一个函数`palindrome(str)`,`str`是一个字符串,如果它是一个回文字符串，则返回`true`，否则返回`false`。

### 课后习题（书中第四节习题）

1. 一个算数表达式中有`{}`,`()`,`[]`三种括号，编写一个函数，接受一个算数表达式作为参数，如果括号完全匹配则返回`true`,否则返回括号缺失的位置。

2. 盒子里从上到下放有不定数量的【红色】，【白色】，【黄色】三种糖果，编写一个程序，可以使用一个或多个栈，在保证原糖果顺序不变的情况下，取出所有的【黄色】糖果。

### 习题思路

1. 按字符逐个解析表达式，遇到左括号即将其压入栈中，遇到右括号就从栈顶弹出一个元素，查看两者是否匹配，若匹配则继续，若不匹配则返回位置。需要注意的是，如果所有括号均配，则栈的最终状态需要为空。
1. 只用一个额外的栈即可，将【红色】【白色】糖果压入新栈，将黄色糖果移除，当糖果盒为空后，再从新的糖果栈中逐个弹出元素重新放回糖果盒的栈即可。
